# コード規約

## C++標準

C++20に準拠

## 命名規則

GNUコーディング規約をベースに、`.clang-format`で設定したフォーマットとする。

### ファイル

スネーク記法。
ヘッダはhpp、ソースファイルはcppを拡張子とする。

### ディレクトリ

スネーク記法。

### 型

スネーク記法。

### 変数

スネーク記法。
プライベートなメンバ変数は末尾にアンダースコアをつける。

### 定数

const変数、constexpr変数。
スネーク記法。
プライベートなメンバ定数は末尾にアンダースコアをつける。

### マクロ

アッパー記法。

### 関数

スネーク記法。

### セッター、ゲッター

スネーク記法。
先頭に`get_`や`set_`をつける。

### 名前空間

スネーク記法。
外部から参照されたくない名前空間には末尾にアンダースコアをつける。

### テンプレート引数

パスカル記法。
外部から参照されたくない名前空間には末尾にアンダースコアをつける。

## パターン規則

### Pimplパターン

ヘッダからprivate変数を隠蔽したりヘッダの依存関係を減らしたりヘッダでのインクルードを減らしたりすることができるが、単純にコードが見づらくなる。
その為、内部的にしか利用せず他ファイルからの参照が少ないクラスについてはPimplパターンの使用を控える。

## コメントについて

コメントはDogygenコメント形式で行う。

## インクルード

### インクルード順序

1. 標準ライブラリ
1. 外部ライブラリ
1. planeta名前空間の他ディレクトリのヘッダ
1. 同じディレクトリのヘッダ
1. 子ディレクトリのヘッダ

かぶる場合はアルファベット順。

### 相対パスと絶対パス

自分のディレクトリ以下にある場合は相対パスを、それ以外は絶対パスを指定する。

### インクルードガード

```#pragma once```

を用いる。

## 名前空間について

Planeta関連のものはplnt名前空間で定義する。さらにその子名前空間として以下を用いる。

- 直下: エンジン本体
- buildin: 標準搭載のクラス群
- reflection: リフレクションシステム
- archiver: アーカイバと暗号化関連
- math: 数学関連
- util: ユーティリティ関数
- dxlib: DXライブラリ関連
- effekseer: Effekseer関連
- lua: Lua関連
- win: Windows関連

内部実装用のものは各名前空間下のimpl_名前空間で定義する。

[ライブラリのディレクトリ構造](LibraryDirectory.md)も参照。

## 命名規則における各記法概要
