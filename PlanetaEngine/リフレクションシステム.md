# リフレクションシステム

# 概要

オブジェクト作成の抽象化、コピー、クローン、スクリプトからのアクセスのための登録処理をまとめて一つのコードで済ますために、リフレクションシステムを実装する。  

# 機能

- コピー
- クローン
- Jsonファイルからの読み込み
- ObjectTypeIDや型情報からのオブジェクト作成
- オブジェクトの情報取得
- Luaスクリプトへのバインド

# 登録できる要素

- クラス
    - メンバ関数
    - メンバ変数
    - プロパティ(ゲッタとセッタを登録することで実現)
    - 読み取り専用プロパティ
    - 書き込み専用プロパティ

# クラスの登録方法

登録したいクラスCの公開静的メンバ関数として、

    static void Reflection(ClassRegisterer<C>& registerer);

を定義する。この関数内で、引数のClassRegisterを用いてクラスの各情報を登録していく。  
そして、クラス宣言の後ろにマクロ

    PE_REGISTER_OBJECT

でクラス名を指定すれば、リフレクションシステムに登録される。

# リフレクションシステムへのアクセス

planeta名前空間のReflectionクラスに定義されている静的関数群から利用できる。

# コピーとクローン

登録された情報をもとに、

# シリアライズ

# Luaスクリプトへのバインド

登録した情報のうち、プライベートでない要素はLuaスクリプトにバインドされ、公開される。